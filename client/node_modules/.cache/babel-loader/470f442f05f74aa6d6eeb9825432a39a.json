{"ast":null,"code":"var _jsxFileName = \"/Users/jasonbrown/Documents/Development/Node/flint/client/src/Store.js\";\nimport React, { createContext, useState, useEffect } from 'react';\nimport axios from \"axios\";\nconst authAxios = axios.create();\nconst userAxios = axios.create();\nexport const storeContext = createContext({});\nuserAxios.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n});\n\nconst Store = props => {\n  //change initial value of user to empty object\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || {});\n  const [items, changeItems] = useState([{\n    item: \"2007 Ford Focus Radio\",\n    partNo: \"1234\",\n    sku: \"1234\",\n    location: \"Shelf A\",\n    datePurchased: new Date().toDateString(),\n    purchasePrice: 9.99,\n    listed: false,\n    listedPrice: 0,\n    expectedProfit: 0,\n    id: 1234\n  }, {\n    item: \"2007 Ford Focus Radio\",\n    partNo: \"1234\",\n    sku: \"1234\",\n    location: \"Shelf A\",\n    datePurchased: new Date().toDateString(),\n    purchasePrice: 9.99,\n    listed: false,\n    listedPrice: 0,\n    expectedProfit: 0,\n    id: 1235\n  }]);\n  useEffect(() => {\n    login({\n      email: \"test@test.com\",\n      password: \"test\"\n    });\n    getInventoryItems();\n  }, []);\n\n  const login = async credentials => {\n    return authAxios.post(\"/auth/login\", credentials).then(response => {\n      const {\n        user,\n        user: {\n          token\n        }\n      } = response.data;\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      localStorage.setItem(\"token\", token);\n      setUser(user);\n      return response;\n    });\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n    setUser({});\n  };\n\n  function submitNewItem(form) {\n    userAxios.post(\"/api/inventoryItems\", form);\n  }\n\n  function getInventoryItems() {\n    userAxios.get(\"/api/inventoryItems\").then(result => changeItems(result.data));\n  }\n\n  return /*#__PURE__*/React.createElement(storeContext.Provider, {\n    value: {\n      user,\n      items,\n      submitNewItem\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default Store;","map":{"version":3,"sources":["/Users/jasonbrown/Documents/Development/Node/flint/client/src/Store.js"],"names":["React","createContext","useState","useEffect","axios","authAxios","create","userAxios","storeContext","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","Store","props","user","setUser","JSON","parse","items","changeItems","item","partNo","sku","location","datePurchased","Date","toDateString","purchasePrice","listed","listedPrice","expectedProfit","id","login","email","password","getInventoryItems","credentials","post","then","response","data","setItem","stringify","logout","removeItem","submitNewItem","form","get","result","children"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\nimport axios from \"axios\"\nconst authAxios = axios.create()\nconst userAxios = axios.create()\nexport const storeContext = createContext({});\n\nuserAxios.interceptors.request.use((config) => {\n    const token = localStorage.getItem(\"token\");\n    config.headers.Authorization = `Bearer ${token}`;\n    return config;\n})\n\n\n\nconst Store = (props) => {\n    //change initial value of user to empty object\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('user')) || {})\n    const [items, changeItems] = useState([\n        {\n            item: \"2007 Ford Focus Radio\",\n            partNo: \"1234\",\n            sku: \"1234\",\n            location: \"Shelf A\",\n            datePurchased: new Date().toDateString(),\n            purchasePrice: 9.99,\n            listed: false,\n            listedPrice: 0,\n            expectedProfit: 0,\n            id: 1234\n        },\n        {\n            item: \"2007 Ford Focus Radio\",\n            partNo: \"1234\",\n            sku: \"1234\",\n            location: \"Shelf A\",\n            datePurchased: new Date().toDateString(),\n            purchasePrice: 9.99,\n            listed: false,\n            listedPrice: 0,\n            expectedProfit: 0,\n            id: 1235\n        },\n\n\n    ])\n\n\n\n    useEffect(() => {\n        login({ email: \"test@test.com\", password: \"test\" });\n        getInventoryItems();\n    }, [])\n\n\n    const login = async (credentials) => {\n        return authAxios.post(\"/auth/login\", credentials)\n            .then(response => {\n                const { user, user: { token } } = response.data;\n                localStorage.setItem(\"user\", JSON.stringify(user))\n                localStorage.setItem(\"token\", token)\n                setUser(user);\n                return response;\n            })\n    }\n    \n    const logout = () => {\n        localStorage.removeItem(\"user\");\n        localStorage.removeItem(\"token\");\n        setUser({});\n    }\n    \n    function submitNewItem(form) {\n        userAxios.post(\"/api/inventoryItems\", form)\n    }\n\n    function getInventoryItems(){\n        userAxios.get(\"/api/inventoryItems\")\n        .then(result => changeItems(result.data))\n    }\n\n    return (\n\n        <storeContext.Provider value={{\n            user,\n            items,\n            submitNewItem\n        }} >\n            {props.children}\n        </storeContext.Provider >\n    )\n}\n\nexport default Store\n"]},"metadata":{},"sourceType":"module"}